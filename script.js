const _0x3c2df2=_0x5606;(function(_0x300815,_0x28a326){const _0x1525b2=_0x5606,_0x4ac75b=_0x300815();while(!![]){try{const _0x5db7f9=parseInt(_0x1525b2(0x1a2))/0x1+-parseInt(_0x1525b2(0x195))/0x2+-parseInt(_0x1525b2(0x192))/0x3*(parseInt(_0x1525b2(0x1c2))/0x4)+parseInt(_0x1525b2(0x1a4))/0x5*(-parseInt(_0x1525b2(0x180))/0x6)+-parseInt(_0x1525b2(0x1ac))/0x7+parseInt(_0x1525b2(0x186))/0x8+parseInt(_0x1525b2(0x18f))/0x9;if(_0x5db7f9===_0x28a326)break;else _0x4ac75b['push'](_0x4ac75b['shift']());}catch(_0x10f3cc){_0x4ac75b['push'](_0x4ac75b['shift']());}}}(_0x4943,0x30fdc),function preparePoem(){const _0x3c1376=_0x5606,_0x3d4df4=document['querySelectorAll'](_0x3c1376(0x18d));_0x3d4df4[_0x3c1376(0x1a7)](_0x2fb054=>{const _0x55fa87=_0x3c1376,_0x55ac5a=_0x2fb054[_0x55fa87(0x190)][_0x55fa87(0x1af)](),_0x307fcc=_0x55ac5a[_0x55fa87(0x19e)](/\s+/);_0x2fb054[_0x55fa87(0x1b7)]='',_0x307fcc[_0x55fa87(0x1a7)]((_0x546cee,_0x3a9b0a)=>{const _0x1dba29=_0x55fa87,_0xd240c9=document[_0x1dba29(0x1ca)](_0x1dba29(0x185));_0xd240c9[_0x1dba29(0x1c4)]=_0x1dba29(0x1c9),_0xd240c9[_0x1dba29(0x190)]=_0x546cee,_0xd240c9['dataset'][_0x1dba29(0x188)]=_0x3a9b0a,_0x2fb054[_0x1dba29(0x179)](_0xd240c9),_0x2fb054[_0x1dba29(0x179)](document['createTextNode']('\x20'));});});}(),function fadeInObserver(){const _0x55ef29=_0x5606,_0x521af7=window['matchMedia'](_0x55ef29(0x17f))[_0x55ef29(0x1ae)];if(_0x521af7){document['querySelectorAll'](_0x55ef29(0x1b3))['forEach'](_0x594e31=>_0x594e31[_0x55ef29(0x1a1)]['add'](_0x55ef29(0x1c1)));return;}const _0x2dd55f=new IntersectionObserver(_0xb47fd8=>{const _0x77d254=_0x55ef29;_0xb47fd8[_0x77d254(0x1a7)](_0x5f3a10=>{const _0x5ed78b=_0x77d254;_0x5f3a10[_0x5ed78b(0x19c)]?_0x5f3a10['target'][_0x5ed78b(0x1a1)][_0x5ed78b(0x18e)](_0x5ed78b(0x1c1)):_0x5f3a10[_0x5ed78b(0x19b)][_0x5ed78b(0x1a1)][_0x5ed78b(0x196)](_0x5ed78b(0x1c1));});},{'root':null,'rootMargin':_0x55ef29(0x1d1),'threshold':0x0});document['querySelectorAll'](_0x55ef29(0x1b3))['forEach'](_0x32c2a0=>_0x2dd55f['observe'](_0x32c2a0));}(),function lineObserverReveal(){const _0x2fe0cc=_0x5606,_0x3128f5=Array[_0x2fe0cc(0x17e)](document[_0x2fe0cc(0x193)](_0x2fe0cc(0x18d))),_0x53acdd=new IntersectionObserver(_0x11a474=>{_0x11a474['forEach'](_0x498a58=>{const _0x2d4277=_0x5606,_0x3f3408=Array['from'](_0x498a58['target'][_0x2d4277(0x193)]('.word'));_0x498a58['isIntersecting']?_0x3f3408[_0x2d4277(0x1a7)]((_0x16f47a,_0x590030)=>{const _0x1f8d19=_0x2d4277;_0x16f47a['_revealTimeout']=setTimeout(()=>_0x16f47a['classList'][_0x1f8d19(0x18e)](_0x1f8d19(0x1c1)),_0x590030*0x23);}):_0x3f3408['forEach'](_0x139f5b=>{const _0xdc4a59=_0x2d4277;_0x139f5b[_0xdc4a59(0x182)]&&(clearTimeout(_0x139f5b[_0xdc4a59(0x182)]),_0x139f5b[_0xdc4a59(0x182)]=null),_0x139f5b[_0xdc4a59(0x1a1)][_0xdc4a59(0x196)](_0xdc4a59(0x1c1));});});},{'root':null,'rootMargin':_0x2fe0cc(0x19d),'threshold':0.03});_0x3128f5[_0x2fe0cc(0x1a7)](_0x37e199=>_0x53acdd[_0x2fe0cc(0x1bb)](_0x37e199));}());function getApiEndpoint(_0x6d975a){const _0x1fb7d3=_0x5606;return'https://nuthatch.lastelm.software/v2/birds?family='+encodeURIComponent(_0x6d975a)+_0x1fb7d3(0x1cf);}function _0x5606(_0x54119e,_0x37af9a){const _0x494307=_0x4943();return _0x5606=function(_0x560691,_0x152d17){_0x560691=_0x560691-0x177;let _0x33bfb3=_0x494307[_0x560691];return _0x33bfb3;},_0x5606(_0x54119e,_0x37af9a);}function _0x4943(){const _0x311872=['1557339BJZuxB','newBirb\x20button\x20not\x20found\x20—\x20add\x20id=\x22newBirb\x22\x20to\x20your\x20button.','matches','trim','Anatidae','filter','Phasianidae','.fade-observe','entities','Caprimulgidae','Corvidae','innerHTML','Laridae','getElementById','Error\x20loading\x20birbs.','observe','Scolopacidae','showRandomBirb\x20error:','Cracidae','Alcidae','Rallidae','visible','4xUoejP','images','className','map','birbCaption','No\x20birb\x20images\x20found\x20:(','Alaudidae','word','createElement','https://images3.memedroid.com/images/UPLOADED32/6020b8ee6ffaa.jpeg','object','Loading...','DOMContentLoaded','&hasImg=true','imgUrl','0px\x200px\x20-33%\x200px','Odontophoridae','click','<strong>','appendChild','Apodidae','alt','isArray','shuffleBird','from','(prefers-reduced-motion:\x20reduce)','4182wSTIuv','disabled','_revealTimeout','status','random','span','2245224mFSWql','warn','index','src','addEventListener','</em>','bird','.poem-line','add','7025319aDAEPh','textContent','Ardeidae','617877VdXOLK','querySelectorAll','floor','445414RXsPUO','remove','sciName','Cuculidae','60cf5b6c-b268-4dbd-924f-4443d4d38cc5','newBirb','target','isIntersecting','0px\x200px\x20-25%\x200px','split','Unknown','name','classList','14304IBLmPd','length','1605iBfklj','loading','Source:\x20','forEach','</strong>\x20—\x20<em>','json','Stercorariidae','full'];_0x4943=function(){return _0x311872;};return _0x4943();}const API_KEY=_0x3c2df2(0x199),PLACEHOLDER=_0x3c2df2(0x1cb);let cachedBirds=null,lastImgUrl=null;const FAMILIES=['Accipitridae',_0x3c2df2(0x1bf),'Alcedinidae',_0x3c2df2(0x1c8),_0x3c2df2(0x1b0),_0x3c2df2(0x17a),'Aramidae',_0x3c2df2(0x191),_0x3c2df2(0x1b5),'Cathartidae','Ciconiidae','Columbidae',_0x3c2df2(0x1b6),_0x3c2df2(0x1be),_0x3c2df2(0x198),'Falconidae','Fregatidae','Fringillidae','Gruidae','Haematopodidae','Hirundinidae','Icteridae',_0x3c2df2(0x1b8),'Laniidae',_0x3c2df2(0x1d2),_0x3c2df2(0x1b2),'Podicipedidae',_0x3c2df2(0x1c0),'Recurvirostridae',_0x3c2df2(0x1bc),_0x3c2df2(0x1aa),'Trochilidae'];let currentFamilyIndex=0x0;function getImageUrl(_0x371708){const _0xca7571=_0x3c2df2;if(!_0x371708)return null;if(typeof _0x371708==='string')return _0x371708;if(typeof _0x371708===_0xca7571(0x1cc))return _0x371708['url']||_0x371708[_0xca7571(0x189)]||_0x371708[_0xca7571(0x1ab)]||_0x371708['thumb']||null;return null;}async function fetchBirds(_0x24cc0e){const _0x5f08ac=_0x3c2df2;if(cachedBirds)return cachedBirds;const _0x4634e1=getApiEndpoint(_0x24cc0e),_0xfa03d3=await fetch(_0x4634e1,{'headers':{'api-key':API_KEY}});if(!_0xfa03d3['ok'])throw new Error('Network\x20response\x20was\x20not\x20OK:\x20'+_0xfa03d3[_0x5f08ac(0x183)]);const _0x829fb8=await _0xfa03d3[_0x5f08ac(0x1a9)](),_0x2506d1=Array['isArray'](_0x829fb8)?_0x829fb8:Array[_0x5f08ac(0x17c)](_0x829fb8[_0x5f08ac(0x1b4)])?_0x829fb8[_0x5f08ac(0x1b4)]:[],_0x3260c4=_0x2506d1[_0x5f08ac(0x1c5)](_0x3edc6a=>{const _0x3fcbd3=_0x5f08ac,_0x166aa5=Array[_0x3fcbd3(0x17c)](_0x3edc6a[_0x3fcbd3(0x1c3)])?_0x3edc6a[_0x3fcbd3(0x1c3)][_0x3fcbd3(0x1c5)](getImageUrl)[_0x3fcbd3(0x1b1)](Boolean):[];return{..._0x3edc6a,'images':_0x166aa5};})[_0x5f08ac(0x1b1)](_0x30029a=>Array[_0x5f08ac(0x17c)](_0x30029a['images'])&&_0x30029a[_0x5f08ac(0x1c3)][_0x5f08ac(0x1a3)]>0x0);return cachedBirds=_0x3260c4,_0x3260c4;}function pickRandomImageFrom(_0x96ad9a){const _0x214266=_0x3c2df2;if(!Array['isArray'](_0x96ad9a)||_0x96ad9a[_0x214266(0x1a3)]===0x0)return null;const _0x925179=_0x96ad9a[Math[_0x214266(0x194)](Math['random']()*_0x96ad9a['length'])];if(!_0x925179||!Array['isArray'](_0x925179['images'])||_0x925179[_0x214266(0x1c3)][_0x214266(0x1a3)]===0x0)return null;const _0x5c5ab2=_0x925179[_0x214266(0x1c3)][Math[_0x214266(0x194)](Math[_0x214266(0x184)]()*_0x925179[_0x214266(0x1c3)][_0x214266(0x1a3)])];return{'bird':_0x925179,'imgUrl':_0x5c5ab2};}async function showRandomBirb(_0x19f1c2=FAMILIES[currentFamilyIndex]){const _0x27b593=_0x3c2df2,_0x2fe7a9=document[_0x27b593(0x1b9)]('birbImg'),_0x42361c=document[_0x27b593(0x1b9)](_0x27b593(0x1c6)),_0x1631b3=document[_0x27b593(0x1b9)]('newBirb');_0x1631b3&&(_0x1631b3[_0x27b593(0x181)]=!![],_0x1631b3[_0x27b593(0x1a1)]['add'](_0x27b593(0x1a5)));_0x2fe7a9['src']=PLACEHOLDER,_0x42361c[_0x27b593(0x190)]=_0x27b593(0x1cd);try{const _0x3b8208=await fetchBirds(_0x19f1c2);if(!Array[_0x27b593(0x17c)](_0x3b8208)||_0x3b8208['length']===0x0){_0x2fe7a9[_0x27b593(0x189)]=PLACEHOLDER,_0x42361c[_0x27b593(0x190)]=_0x27b593(0x1c7);return;}let _0x3a7ce8=null;const _0x48ba16=0x8;for(let _0x21fd83=0x0;_0x21fd83<_0x48ba16;_0x21fd83++){const _0x8c48a9=pickRandomImageFrom(_0x3b8208);if(!_0x8c48a9)break;if(_0x8c48a9[_0x27b593(0x1d0)]!==lastImgUrl){_0x3a7ce8=_0x8c48a9;break;}}if(!_0x3a7ce8)_0x3a7ce8=pickRandomImageFrom(_0x3b8208);!_0x3a7ce8?(_0x2fe7a9['src']=PLACEHOLDER,_0x42361c[_0x27b593(0x190)]=_0x27b593(0x1c7)):(lastImgUrl=_0x3a7ce8[_0x27b593(0x1d0)],_0x2fe7a9[_0x27b593(0x189)]=_0x3a7ce8['imgUrl'],_0x2fe7a9[_0x27b593(0x17b)]=(_0x3a7ce8[_0x27b593(0x18c)][_0x27b593(0x1a0)]||_0x27b593(0x19f))+'\x20('+(_0x3a7ce8[_0x27b593(0x18c)][_0x27b593(0x197)]||'')+')',_0x42361c['innerHTML']=_0x27b593(0x178)+(_0x3a7ce8[_0x27b593(0x18c)][_0x27b593(0x1a0)]||_0x27b593(0x19f))+_0x27b593(0x1a8)+(_0x3a7ce8[_0x27b593(0x18c)][_0x27b593(0x197)]||'')+_0x27b593(0x18b));}catch(_0x240975){console['error'](_0x27b593(0x1bd),_0x240975),_0x2fe7a9[_0x27b593(0x189)]=PLACEHOLDER,_0x42361c[_0x27b593(0x190)]=_0x27b593(0x1ba);}finally{_0x1631b3&&(_0x1631b3[_0x27b593(0x181)]=![],_0x1631b3[_0x27b593(0x1a1)][_0x27b593(0x196)]('loading'));}}showRandomBirb(),document[_0x3c2df2(0x18a)](_0x3c2df2(0x1ce),()=>{const _0x24bfb1=_0x3c2df2,_0xf5324a=document[_0x24bfb1(0x1b9)](_0x24bfb1(0x19a));_0xf5324a?_0xf5324a[_0x24bfb1(0x18a)]('click',()=>showRandomBirb()):console[_0x24bfb1(0x187)](_0x24bfb1(0x1ad));}),document['addEventListener'](_0x3c2df2(0x1ce),()=>{const _0x1d95e6=_0x3c2df2,_0x5947eb=document[_0x1d95e6(0x1b9)](_0x1d95e6(0x17d));_0x5947eb&&(_0x5947eb[_0x1d95e6(0x18a)](_0x1d95e6(0x177),async()=>{const _0xdd9b81=_0x1d95e6;currentFamilyIndex=(currentFamilyIndex+0x1)%FAMILIES[_0xdd9b81(0x1a3)];const _0x65723c=FAMILIES[currentFamilyIndex];cachedBirds=null,_0x5947eb[_0xdd9b81(0x190)]=_0xdd9b81(0x1a6)+_0x65723c,await showRandomBirb(_0x65723c);}),_0x5947eb[_0x1d95e6(0x190)]='Source:\x20'+FAMILIES[currentFamilyIndex]);});