<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Yinnotayl ‚Äî Home</title>
    <style>
        :root {
            --bg1: #fff;
            --bg2: #f3f8ff;
            --accent: #6a0dad;
            --muted: #5a5a5a;
            --card: #ffffffdd;
            --radius: 14px;
            --max-width: 640px;
            --gap: 18px;
            --word-gap: 8px;
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%
        }

        body {
            margin: 0;
            font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            background: linear-gradient(180deg, var(--bg2), var(--bg1));
            color: #222;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            padding: 36px 20px;
            display: flex;
            justify-content: center;
            padding-bottom: 120px;
        }

        .wrap {
            width: 100%;
            max-width: var(--max-width);
        }

        header {
            display: flex;
            align-items: center;
            gap: 18px;
            margin-bottom: 22px;
            justify-content: space-between;
        }

        .brand {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .logo {
            width: 80px;
            height: 80px;
            border-radius: 14px;
            display: inline-grid;
            place-items: center;
            background: linear-gradient(135deg, #ffe6fb, #dbe9ff);
            font-weight: 700;
            color: var(--accent);
            font-size: 30px;
            box-shadow: 0 10px 28px rgba(100, 80, 150, 0.08);
            transform: translateY(6px);
        }

        h1 {
            font-size: 1.6rem;
            margin: 0;
            color: var(--accent);
            letter-spacing: 0.2px
        }

        .sub {
            margin: 6px 0 0 0;
            color: var(--muted);
            font-size: 1.03rem
        }

        .card {
            background: var(--card);
            padding: 20px;
            border-radius: var(--radius);
            box-shadow: 0 10px 30px rgba(30, 30, 50, 0.06);
            margin-bottom: 18px;
            backdrop-filter: blur(4px);
        }

        .intro {
            display: flex;
            gap: 16px;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
        }

        .left {
            min-width: 0;
        }

        .links {
            display: flex;
            gap: 12px;
            align-items: center;
            margin-top: 8px;
        }

        a.btn {
            display: inline-block;
            text-decoration: none;
            padding: 12px 16px;
            border-radius: 12px;
            border: 1px solid rgba(106, 13, 173, 0.12);
            color: var(--accent);
            font-weight: 700;
            font-size: 1rem;
        }

        a.small {
            font-size: 0.95rem;
            color: var(--muted);
            text-decoration: none;
            padding: 10px 12px;
            border-radius: 10px;
            border: 1px solid transparent;
        }

        /* Poem area */
        #poem-wrap {
            margin-top: 12px;
            padding: 24px;
            border-radius: 12px;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.75));
        }

        .poem-line {
            margin: 12px 0;
            line-height: 1.6;
            font-size: 1.02rem;
            color: #1f1f1f;
            white-space: normal;
            text-align: left;
        }

        /* stronger word animation */
        .poem-line .word {
            display: inline-block;
            margin-right: var(--word-gap);
            opacity: 0;
            transform: translateY(22px) scale(0.995);
            transition: opacity 720ms cubic-bezier(.16, .9, .3, 1), transform 720ms cubic-bezier(.16, .9, .3, 1);
            will-change: opacity, transform;
            font-weight: 500;
        }

        .poem-line .word.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        /* Fade-in for static elements (header, cards, buttons, heading etc)
       - bigger, more visible fade & lift
       - we'll trigger when element crosses 1/3 from bottom via rootMargin */
        .fade-observe {
            opacity: 0;
            transform: translateY(22px) scale(0.995);
            transition: opacity 720ms cubic-bezier(.16, .9, .3, 1), transform 720ms cubic-bezier(.16, .9, .3, 1);
            will-change: opacity, transform;
        }

        .fade-observe.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        footer {
            margin-top: 18px;
            text-align: center;
            color: var(--muted);
            font-size: 0.9rem;
        }

        /* Below-poem flexible space */
        .below-space {
            min-height: 500px;
            /* change this value to make more/less space */
            margin-top: 18px;
            border-radius: 12px;
            background: linear-gradient(180deg, rgba(250, 250, 255, 0.6), rgba(250, 250, 255, 0.45));
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--muted);
            font-size: 0.95rem;
            border: 1px dashed rgba(150, 150, 160, 0.12);
        }

        /* Accessibility: reduce motion */
        @media (prefers-reduced-motion: reduce) {

            .poem-line .word,
            .fade-observe {
                transition: none;
                transform: none;
            }
        }

        @media (max-width:520px) {
            body {
                padding: 20px
            }

            .logo {
                width: 64px;
                height: 64px;
                font-size: 22px
            }

            h1 {
                font-size: 1.2rem
            }

            .poem-line {
                font-size: 1rem
            }

            a.btn {
                padding: 10px 14px;
                font-size: 0.95rem
            }
        }
    </style>
</head>

<body>
    <div class="wrap" role="main">
        <header>
            <div class="brand fade-observe">
                <div class="logo" aria-hidden="true">Y</div>
                <div>
                    <h1>Hewwo ‚Äî I'm Yinnotayl</h1>
                    <p class="sub">programming, studying, & birds üïäÔ∏è</p>
                </div>
            </div>

            <div class="links fade-observe" aria-hidden="false">
                <a class="btn" href="https://github.com/yinnotayl" target="_blank" rel="noopener">GitHub</a>
                <a class="small" href="#poem-wrap">Read poem</a>
            </div>
        </header>

        <section class="card fade-observe">
            <div class="intro">
                <div class="left">
                    <p style="margin:0;font-size:1rem;color:#333">
                        Welcome to my GitHub Pages home~ (‚âß‚ó°‚â¶)Ôæâ
                    </p>
                    <p style="margin:8px 0 0 0;color:var(--muted);font-size:0.98rem">
                        I love programming, studying, and birds!
                        <br />
                        Scroll to reveal a poem I wrote, word-by-word!
                    </p>
                </div>
            </div>
        </section>

        <!-- flexible blank area for adding content later -->
        <div class="below-space fade-observe" aria-hidden="true">
            Add your stuff here ‚Äî more links, notes, or widgets owo
        </div>

        <section id="poem-wrap" class="card fade-observe" aria-labelledby="poem-heading">
            <h2 id="poem-heading" style="margin:0 0 12px 0;font-size:1.5rem;color:var(--accent);">There will come soft
                rains</h2>

            <div id="poem">
                <p class="poem-line">There will come soft rains,</p>
                <p class="poem-line">falling through the veil of night,</p>
                <p class="poem-line">gentle as breath no longer drawn,</p>
                <p class="poem-line">washing away the weight of dawn.</p>
                <br />
                <p class="poem-line">There will come soft rains,</p>
                <p class="poem-line">over fields where we once lay,</p>
                <p class="poem-line">where time dissolves, and names are still,</p>
                <p class="poem-line">and every wound forgets its will.</p>
                <br />
                <p class="poem-line">Till that day</p>
                <p class="poem-line">when the rain stops falling,</p>
                <p class="poem-line">when the snow starts melting,</p>
                <p class="poem-line">when the sun stops shining.</p>
                <br />
                <p class="poem-line">Till we leave for the place</p>
                <p class="poem-line">where the sun always shines,</p>
                <p class="poem-line">where the leaves never fall,</p>
                <p class="poem-line">where hope blooms bright in endless time.</p>
                <br />
                <p class="poem-line">No clocks, no cries, just open skies,</p>
                <p class="poem-line">a hush that hums where spirit flies.</p>
                <p class="poem-line">Beyond the dark, a quiet new,</p>
                <p class="poem-line">do you feel it?</p>
                <p class="poem-line">I do</p>
            </div>

            <br />
            <p>by Yinnotayl</p>
        </section>

        <!-- flexible blank area for adding content later -->
        <div class="below-space fade-observe" aria-hidden="true">
            Add your stuff here ‚Äî more links, notes, or widgets owo
        </div>

        <footer class="fade-observe">
            <small>Simple, readable, and focused ‚Äî made for quick reading. üí´</small>
        </footer>
    </div>

    <script>
        // Prepare poem words (same as before)
        (function preparePoem() {
            const lines = document.querySelectorAll('.poem-line');
            lines.forEach(line => {
                const text = line.textContent.trim();
                const words = text.split(/\s+/);
                line.innerHTML = '';
                words.forEach((w, idx) => {
                    const span = document.createElement('span');
                    span.className = 'word';
                    span.textContent = w;
                    span.dataset.index = idx;
                    line.appendChild(span);
                    line.appendChild(document.createTextNode(' '));
                });
            });
        })();

        // Scroll-based reveal: unchanged logic but kept responsive for bottom lines
        (function scrollReveal() {
            const poemWrap = document.getElementById('poem-wrap');
            const wordNodes = Array.from(document.querySelectorAll('#poem .word'));
            const total = wordNodes.length;

            let ticking = false;
            function onScroll() {
                if (!ticking) {
                    window.requestAnimationFrame(() => { update(); ticking = false; });
                    ticking = true;
                }
            }

            function clamp(v, a = 0, b = 1) { return Math.max(a, Math.min(b, v)); }

            function update() {
                const rect = poemWrap.getBoundingClientRect();
                const vpH = window.innerHeight || document.documentElement.clientHeight;

                // progress from 0 -> 1 as poem travels through viewport (ensures bottom words reveal)
                const progress = clamp((vpH + 300 - rect.top) / (rect.height + vpH), 0, 1);

                const eased = progress < 0.5
                    ? 4 * progress * progress * progress
                    : 1 - Math.pow(-2 * progress + 2, 3) / 2;

                const revealCount = Math.round(eased * total);

                for (let i = 0; i < total; i++) {
                    const el = wordNodes[i];
                    if (i < revealCount) el.classList.add('visible');
                    else el.classList.remove('visible');
                }
            }

            /*
            function update() {
                const vpH = window.innerHeight || document.documentElement.clientHeight;
                // small offset so words appear slightly before fully in view
                const offset = -20;
                wordNodes.forEach(el => {
                    const r = el.getBoundingClientRect();
                    if (r.top < vpH - offset) el.classList.add('visible');
                    else el.classList.remove('visible');
                });
            }
            */

            update();
            window.addEventListener('scroll', onScroll, { passive: true });
            window.addEventListener('resize', onScroll);
        })();

        // Stronger IntersectionObserver for .fade-observe
        (function fadeInObserver() {
            const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            if (prefersReduced) {
                // if user prefers reduced motion, keep everything visible
                document.querySelectorAll('.fade-observe').forEach(el => el.classList.add('visible'));
                return;
            }

            // Observe and TOGGLE visibility: show when crossing the 1/3-bottom line, hide when leaving it.
            const io = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    } else {
                        entry.target.classList.remove('visible');
                    }
                });
            }, {
                root: null,
                rootMargin: '0px 0px -33% 0px', // triggers when element crosses 1/3 from bottom
                threshold: 0
            });

            document.querySelectorAll('.fade-observe').forEach(el => io.observe(el));
        })();

        (function lineObserverReveal() {
            const lines = Array.from(document.querySelectorAll('.poem-line'));

            const io = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const words = Array.from(entry.target.querySelectorAll('.word'));
                    if (entry.isIntersecting) {
                        // staggered reveal for nicer rhythm
                        words.forEach((w, i) => {
                            w._revealTimeout = setTimeout(() => w.classList.add('visible'), i * 35);
                        });
                    } else {
                        // cancel any pending reveals and hide words again
                        words.forEach(w => {
                            if (w._revealTimeout) { clearTimeout(w._revealTimeout); w._revealTimeout = null; }
                            w.classList.remove('visible');
                        });
                    }
                });
            }, {
                root: null,
                rootMargin: '0px 0px -15% 0px', // reveal a bit earlier before fully in view
                threshold: 0.03
            });

            lines.forEach(l => io.observe(l));
        })();

    </script>
</body>

</html>